{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\src\\\\pages\\\\movieDetailsPage.js\";\nimport { Link, Route, withRouter } from \"react-router-dom\";\nimport MovieReviews from \"../components/movieReviews\";\nimport React, { useState, useEffect } from \"react\";\nimport MovieDetails from \"../components/movieDetails\";\nimport PageTemplate from \"../components/templateMoviePage\";\nimport { getMovie } from '../api/tmdb-api';\n\nvar MoviePage = props => {\n  var id = props.match.params.id;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      movie = _useState2[0],\n      setMovie = _useState2[1];\n\n  useEffect(() => {\n    getMovie(id).then(movie => {\n      setMovie(movie);\n    });\n  }, [id]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, movie ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PageTemplate, {\n    movie: movie,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MovieDetails, {\n    movie: movie,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }\n  }, !props.history.location.pathname.endsWith(\"/reviews\") ? /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-primary btn-block active\",\n    to: \"/movies/\".concat(id, \"/reviews\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 15\n    }\n  }, \"Show Reviews (Extracts)\") : /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-primary btn-block active\",\n    to: \"/movies/\".concat(id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 15\n    }\n  }, \"Hide Reviews\"))), /*#__PURE__*/React.createElement(Route, {\n    path: \"/movies/:id/reviews\",\n    render: props => /*#__PURE__*/React.createElement(MovieReviews, Object.assign({\n      movie: movie\n    }, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 28\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Waiting for movie details\"));\n};\n\nexport default withRouter(MoviePage);","map":{"version":3,"sources":["C:/Users/vblas/Desktop/COLLEGE/Year 3/Web App 2/moviesApp/src/pages/movieDetailsPage.js"],"names":["Link","Route","withRouter","MovieReviews","React","useState","useEffect","MovieDetails","PageTemplate","getMovie","MoviePage","props","id","match","params","movie","setMovie","then","history","location","pathname","endsWith"],"mappings":";;AAAA,SAASA,IAAT,EAAeC,KAAf,EAAsBC,UAAtB,QAAwC,kBAAxC;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,SAAQC,QAAR,QAAuB,iBAAvB;;AAGA,IAAMC,SAAS,GAAGC,KAAK,IAAI;AAAA,MACjBC,EADiB,GACVD,KAAK,CAACE,KAAN,CAAYC,MADF,CACjBF,EADiB;;AAAA,kBAECP,QAAQ,CAAC,IAAD,CAFT;AAAA;AAAA,MAElBU,KAFkB;AAAA,MAEXC,QAFW;;AAGzBV,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,QAAQ,CAACG,EAAD,CAAR,CAAaK,IAAb,CAAkBF,KAAK,IAAI;AACzBC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,KAFD;AAGD,GAJQ,EAIN,CAACH,EAAD,CAJM,CAAT;AAKA,sBACE,0CACCG,KAAK,gBACJ,uDACE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEA,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEA,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACJ,KAAK,CAACO,OAAN,CAAcC,QAAd,CAAuBC,QAAvB,CAAgCC,QAAhC,CAAyC,UAAzC,CAAD,gBACC,oBAAC,IAAD;AACE,IAAA,SAAS,EAAC,kCADZ;AAEE,IAAA,EAAE,oBAAaT,EAAb,aAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADD,gBAQC,oBAAC,IAAD;AACE,IAAA,SAAS,EAAC,kCADZ;AAEE,IAAA,EAAE,oBAAaA,EAAb,CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATJ,CADF,CAJF,eAuBE,oBAAC,KAAD;AACE,IAAA,IAAI,uBADN;AAEE,IAAA,MAAM,EAAED,KAAK,iBAAI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAEI;AAArB,OAAgCJ,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,CADI,gBA8BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCA/BF,CADF;AAoCC,CA5CH;;AA8CE,eAAeT,UAAU,CAACQ,SAAD,CAAzB","sourcesContent":["import { Link, Route, withRouter } from \"react-router-dom\"\r\nimport MovieReviews from \"../components/movieReviews\"\r\nimport React, {useState, useEffect } from \"react\";\r\nimport MovieDetails from \"../components/movieDetails\";\r\nimport PageTemplate from \"../components/templateMoviePage\";\r\nimport {getMovie} from '../api/tmdb-api'\r\n\r\n\r\nconst MoviePage = props => {\r\n  const { id } = props.match.params;\r\n  const [movie, setMovie] = useState(null);\r\n  useEffect(() => {\r\n    getMovie(id).then(movie => {\r\n      setMovie(movie);\r\n    });\r\n  }, [id]);\r\n  return (\r\n    <>\r\n    {movie ? (\r\n      <>\r\n        <PageTemplate movie={movie}>\r\n          <MovieDetails movie={movie} />\r\n        </PageTemplate>\r\n        <div className=\"row\">\r\n          <div className=\"col-12 \">\r\n            {!props.history.location.pathname.endsWith(\"/reviews\") ? (\r\n              <Link\r\n                className=\"btn btn-primary btn-block active\"\r\n                to={`/movies/${id}/reviews`}\r\n              >\r\n                Show Reviews (Extracts)\r\n              </Link>\r\n            ) : (\r\n              <Link\r\n                className=\"btn btn-primary btn-block active\"\r\n                to={`/movies/${id}`}\r\n              >\r\n                Hide Reviews \r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <Route\r\n          path={`/movies/:id/reviews`}\r\n          render={props => <MovieReviews movie={movie} {...props} />}\r\n        />\r\n      </>\r\n    ) : (\r\n      <p>Waiting for movie details</p>\r\n    )}\r\n  </>\r\n  );\r\n  };\r\n\r\n  export default withRouter(MoviePage);"]},"metadata":{},"sourceType":"module"}