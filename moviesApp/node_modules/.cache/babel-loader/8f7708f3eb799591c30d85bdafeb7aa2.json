{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\src\\\\contexts\\\\moviesContext.js\";\nimport React, { useState, useEffect } from \"react\";\nimport StubAPI from \"../api/stubAPI\";\nimport { getMovies } from \"../api/tmdb-api\";\nexport var MoviesContext = React.createContext(null);\n\nvar MoviesContextProvider = props => {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      movies = _useState2[0],\n      setMovies = _useState2[1];\n\n  var addToFavorites = movieId => {\n    setMovies(movies => {\n      var index = movies.map(m => m.id).indexOf(movieId);\n      StubAPI.add(movies[index]);\n      movies.splice(index, 1);\n      return [...movies];\n    });\n  };\n\n  useEffect(() => {\n    getMovies().then(movies => {\n      setMovies(movies);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/React.createElement(MoviesContext.Provider, {\n    value: {\n      movies: movies,\n      addToFavorites: addToFavorites\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default MoviesContextProvider;","map":{"version":3,"sources":["C:/Users/vblas/Desktop/COLLEGE/Year 3/Web App 2/moviesApp/src/contexts/moviesContext.js"],"names":["React","useState","useEffect","StubAPI","getMovies","MoviesContext","createContext","MoviesContextProvider","props","movies","setMovies","addToFavorites","movieId","index","map","m","id","indexOf","add","splice","then","children"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AAEA,OAAO,IAAMC,aAAa,GAAGL,KAAK,CAACM,aAAN,CAAoB,IAApB,CAAtB;;AAEP,IAAMC,qBAAqB,GAAGC,KAAK,IAAI;AAAA,kBACTP,QAAQ,CAAC,EAAD,CADC;AAAA;AAAA,MAC9BQ,MAD8B;AAAA,MACtBC,SADsB;;AAGrC,MAAMC,cAAc,GAAGC,OAAO,IAAI;AAChCF,IAAAA,SAAS,CAACD,MAAM,IAAI;AAClB,UAAMI,KAAK,GAAGJ,MAAM,CAACK,GAAP,CAAWC,CAAC,IAAIA,CAAC,CAACC,EAAlB,EAAsBC,OAAtB,CAA8BL,OAA9B,CAAd;AACAT,MAAAA,OAAO,CAACe,GAAR,CAAYT,MAAM,CAACI,KAAD,CAAlB;AACAJ,MAAAA,MAAM,CAACU,MAAP,CAAcN,KAAd,EAAqB,CAArB;AACA,aAAO,CAAC,GAAGJ,MAAJ,CAAP;AACD,KALQ,CAAT;AAMD,GAPD;;AAQAP,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,SAAS,GAAGgB,IAAZ,CAAiBX,MAAM,IAAI;AACzBC,MAAAA,SAAS,CAACD,MAAD,CAAT;AACD,KAFD,EADc,CAIhB;AACC,GALQ,EAKN,EALM,CAAT;AAOA,sBACE,oBAAC,aAAD,CAAe,QAAf;AACE,IAAA,KAAK,EAAE;AACLA,MAAAA,MAAM,EAAEA,MADH;AAELE,MAAAA,cAAc,EAAEA;AAFX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGH,KAAK,CAACa,QANT,CADF;AAUD,CA5BD;;AA8BA,eAAed,qBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport StubAPI from \"../api/stubAPI\";\r\nimport { getMovies } from \"../api/tmdb-api\";\r\n\r\nexport const MoviesContext = React.createContext(null)\r\n\r\nconst MoviesContextProvider = props => {\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  const addToFavorites = movieId => {\r\n    setMovies(movies => {\r\n      const index = movies.map(m => m.id).indexOf(movieId);\r\n      StubAPI.add(movies[index])\r\n      movies.splice(index, 1)\r\n      return [...movies]\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    getMovies().then(movies => {\r\n      setMovies(movies);\r\n    });\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <MoviesContext.Provider\r\n      value={{\r\n        movies: movies,\r\n        addToFavorites: addToFavorites\r\n      }}\r\n    >\r\n      {props.children}\r\n    </MoviesContext.Provider>\r\n  );\r\n};\r\n\r\nexport default MoviesContextProvider"]},"metadata":{},"sourceType":"module"}