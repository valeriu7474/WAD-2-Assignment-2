{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\src\\\\contexts\\\\moviesContext.js\";\nimport React, { useEffect, createContext, useReducer } from \"react\";\nimport { getMovies, getUpcomingMovies, getNowPlaying, getPopularMovies, getLatestMovies } from \"../api/tmdb-api\";\nexport var MoviesContext = createContext(null);\n\nvar reducer = (state, action) => {\n  switch (action.type) {\n    case \"add-favorite\":\n      return {\n        movies: state.movies.map(m => m.id === action.payload.movie.id ? _objectSpread(_objectSpread({}, m), {}, {\n          favorite: true\n        }) : m),\n        upcoming: [...state.upcoming],\n        nowplaying: [...state.nowplaying],\n        popular: [...state.popular],\n        toprated: [...state.toprated]\n      };\n\n    case \"load\":\n      return {\n        movies: action.payload.movies,\n        upcoming: [...state.upcoming],\n        nowplaying: [...state.nowplaying],\n        popular: [...state.popular],\n        toprated: [...state.toprated]\n      };\n\n    case \"load-upcoming\":\n      return {\n        upcoming: action.payload.movies,\n        movies: [...state.movies],\n        nowplaying: [...state.nowplaying],\n        popular: [...state.popular],\n        toprated: [...state.toprated]\n      };\n\n    case \"load-nowplaying\":\n      return {\n        nowplaying: action.payload.movies,\n        movies: [...state.movies],\n        upcoming: [...state.upcoming],\n        popular: [...state.popular],\n        toprated: [...state.toprated]\n      };\n\n    case \"load-popular\":\n      return {\n        popular: action.payload.movies,\n        movies: [...state.movies],\n        upcoming: [...state.upcoming],\n        nowplaying: [...state.nowplaying],\n        toprated: [...state.toprated]\n      };\n\n    case \"load-toprated\":\n      return {\n        latest: action.payload.movies,\n        movies: [...state.movies],\n        upcoming: [...state.upcoming],\n        popular: [...state.popular],\n        nowplaying: [...state.nowplaying]\n      };\n\n    case \"add-review\":\n      return {\n        movies: state.movies.map(m => m.id === action.payload.movie.id ? _objectSpread(_objectSpread({}, m), {}, {\n          review: action.payload.review\n        }) : m)\n      };\n      break;\n\n    default:\n      return state;\n  }\n};\n\nvar MoviesContextProvider = props => {\n  var _useReducer = useReducer(reducer, {\n    movies: [],\n    upcoming: [],\n    nowplaying: [],\n    popular: [],\n    toprated: []\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var addToFavorites = movieId => {\n    var index = state.movies.map(m => m.id).indexOf(movieId);\n    dispatch({\n      type: \"add-favorite\",\n      payload: {\n        movie: state.movies[index]\n      }\n    });\n  };\n\n  var addReview = (movie, review) => {\n    dispatch({\n      type: \"add-review\",\n      payload: {\n        movie,\n        review\n      }\n    });\n  };\n\n  useEffect(() => {\n    getMovies().then(movies => {\n      dispatch({\n        type: \"load\",\n        payload: {\n          movies\n        }\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    getUpcomingMovies().then(movies => {\n      dispatch({\n        type: \"load-upcoming\",\n        payload: {\n          movies\n        }\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    getNowPlaying().then(movies => {\n      dispatch({\n        type: \"load-nowplaying\",\n        payload: {\n          movies\n        }\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    getPopularMovies().then(movies => {\n      dispatch({\n        type: \"load-popular\",\n        payload: {\n          movies\n        }\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    getTopRatedMovies().then(movies => {\n      dispatch({\n        type: \"load-toprated\",\n        payload: {\n          movies\n        }\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/React.createElement(MoviesContext.Provider, {\n    value: {\n      movies: state.movies,\n      upcoming: state.upcoming,\n      nowplaying: state.nowplaying,\n      popular: state.popular,\n      toprated: state.toprated,\n      favorites: state.favorites,\n      addToFavorites: addToFavorites,\n      addReview: addReview\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default MoviesContextProvider;","map":{"version":3,"sources":["C:/Users/vblas/Desktop/COLLEGE/Year 3/Web App 2/moviesApp/src/contexts/moviesContext.js"],"names":["React","useEffect","createContext","useReducer","getMovies","getUpcomingMovies","getNowPlaying","getPopularMovies","getLatestMovies","MoviesContext","reducer","state","action","type","movies","map","m","id","payload","movie","favorite","upcoming","nowplaying","popular","toprated","latest","review","MoviesContextProvider","props","dispatch","addToFavorites","movieId","index","indexOf","addReview","then","getTopRatedMovies","favorites","children"],"mappings":"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","sourcesContent":["import React, { useEffect, createContext, useReducer } from \"react\";\r\nimport { getMovies, getUpcomingMovies, getNowPlaying, getPopularMovies, getLatestMovies} from \"../api/tmdb-api\";\r\n\r\nexport const MoviesContext = createContext(null);\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"add-favorite\":\r\n      return {\r\n        movies: state.movies.map((m) =>\r\n          m.id === action.payload.movie.id ? { ...m, favorite: true } : m\r\n        ),\r\n        upcoming: [...state.upcoming],\r\n        nowplaying: [...state.nowplaying],\r\n        popular: [...state.popular],\r\n        toprated: [...state.toprated],\r\n      };\r\n    case \"load\":\r\n      return { movies: action.payload.movies, upcoming: [...state.upcoming], nowplaying: [...state.nowplaying], popular: [...state.popular], toprated: [...state.toprated]};\r\n    case \"load-upcoming\":\r\n      return { upcoming: action.payload.movies, movies: [...state.movies], nowplaying: [...state.nowplaying], popular: [...state.popular], toprated: [...state.toprated]};\r\n    case \"load-nowplaying\":\r\n      return { nowplaying: action.payload.movies, movies: [...state.movies], upcoming:[...state.upcoming], popular: [...state.popular], toprated: [...state.toprated]};\r\n    case \"load-popular\":\r\n      return { popular: action.payload.movies, movies: [...state.movies], upcoming:[...state.upcoming], nowplaying:[...state.nowplaying], toprated: [...state.toprated]};\r\n    case \"load-toprated\":\r\n      return { latest: action.payload.movies, movies: [...state.movies], upcoming:[...state.upcoming], popular: [...state.popular], nowplaying:[...state.nowplaying]};\r\n    case \"add-review\":\r\n        return {\r\n            movies: state.movies.map((m) =>\r\n              m.id === action.payload.movie.id\r\n                ? { ...m, review: action.payload.review }\r\n                : m\r\n            ),\r\n          };\r\n      break;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst MoviesContextProvider = (props) => {\r\n  const [state, dispatch] = useReducer(reducer, { movies: [], upcoming: [], nowplaying: [], popular: [], toprated: [] });\r\n\r\n  const addToFavorites = (movieId) => {\r\n    const index = state.movies.map((m) => m.id).indexOf(movieId);\r\n    dispatch({ type: \"add-favorite\", payload: { movie: state.movies[index] } });\r\n  };\r\n\r\n  const addReview = (movie, review) => {\r\n    dispatch({ type: \"add-review\", payload: { movie, review } });\r\n  };\r\n  useEffect(() => {\r\n    getMovies().then((movies) => {\r\n      dispatch({ type: \"load\", payload: { movies } });\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getUpcomingMovies().then((movies) => {\r\n      dispatch({ type: \"load-upcoming\", payload: { movies } });\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getNowPlaying().then((movies) => {\r\n      dispatch({ type: \"load-nowplaying\", payload: { movies } });\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getPopularMovies().then((movies) => {\r\n      dispatch({ type: \"load-popular\", payload: { movies } });\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getTopRatedMovies().then((movies) => {\r\n      dispatch({ type: \"load-toprated\", payload: { movies } });\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <MoviesContext.Provider\r\n      value={{\r\n        movies: state.movies,\r\n        upcoming: state.upcoming,\r\n        nowplaying: state.nowplaying,\r\n        popular: state.popular,\r\n        toprated: state.toprated,\r\n        favorites: state.favorites,\r\n        addToFavorites: addToFavorites,\r\n        addReview: addReview,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </MoviesContext.Provider>\r\n  );\r\n};\r\n\r\nexport default MoviesContextProvider;"]},"metadata":{},"sourceType":"module"}