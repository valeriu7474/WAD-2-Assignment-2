{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\wad2-Assignment2\\\\moviesApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\wad2-Assignment2\\\\moviesApp\\\\src\\\\components\\\\login\\\\index.js\";\nimport React, { useContext, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { Redirect } from \"react-router-dom\";\nimport { AuthContext } from '../../contexts/authContext';\nimport { Link } from \"react-router-dom\";\nimport { Input, Button, Icon, Form } from \"semantic-ui-react\";\n\nvar LoginForm = props => {\n  var context = useContext(AuthContext);\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      userName = _useState2[0],\n      setUserName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var login = () => {\n    context.authenticate(userName, password);\n  }; // Set 'from' to path where browser is redirected after a successful login.\n  // Either / or the protected path user tried to access.\n\n\n  var _ref = props.location.state || {\n    from: {\n      pathname: \"/home\"\n    }\n  },\n      from = _ref.from;\n\n  if (context.isAuthenticated === true) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: from,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form bg-dark text-light\",\n    onSubmit: handleSubmit(login),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Input, {\n    class: \"ui input\",\n    type: \"text\",\n    placeholder: \"Enter Username\",\n    name: \"username\",\n    onChange: e => {\n      setUserName(e.target.value);\n    },\n    ref: register({\n      required: \"Username Required\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  })), errors.username && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  }, errors.username.message, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Enter Password\",\n    name: \"password\",\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    ref: register({\n      required: \"Password Required\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-text text-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"We'll never share your password with anyone else\")), errors.password && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, errors.username.message), /*#__PURE__*/React.createElement(Button, {\n    animated: true,\n    type: \"submit\",\n    onClick: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button.Content, {\n    visible: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(Button.Content, {\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"arrow right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 36\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Not signed up yet? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 59\n    }\n  }, \" Do it now!\"))));\n};\n\nexport default withRouter(LoginForm);","map":{"version":3,"sources":["C:/Users/vblas/Desktop/COLLEGE/Year 3/Web App 2/wad2-Assignment2/moviesApp/src/components/login/index.js"],"names":["React","useContext","useState","withRouter","useForm","Redirect","AuthContext","Link","Input","Button","Icon","Form","LoginForm","props","context","userName","setUserName","password","setPassword","register","handleSubmit","errors","login","authenticate","location","state","from","pathname","isAuthenticated","e","target","value","required","username","message"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from '../../contexts/authContext';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Input, Button, Icon, Form } from \"semantic-ui-react\";\r\n\r\nconst LoginForm = props => {\r\n  const context = useContext(AuthContext)\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const { register, handleSubmit, errors} = useForm();\r\n\r\n  const login = () => {\r\n    context.authenticate(userName, password);\r\n  };\r\n\r\n  // Set 'from' to path where browser is redirected after a successful login.\r\n  // Either / or the protected path user tried to access.\r\n  const { from } = props.location.state || { from: { pathname: \"/home\" } };\r\n\r\n  if (context.isAuthenticated === true) {\r\n    return <Redirect to={from} />;\r\n  }\r\n  return (\r\n    <form className=\"form bg-dark text-light\" onSubmit={handleSubmit(login)}>\r\n        <h2>Login</h2>\r\n        <div className=\"form-group\">\r\n            <div className=\"form-label\">Username</div>\r\n            <Input class=\"ui input\" \r\n                type=\"text\"\r\n                placeholder=\"Enter Username\"\r\n                name=\"username\"\r\n                onChange={e => { setUserName(e.target.value);}}\r\n                ref={register({ required: \"Username Required\" })}\r\n            />\r\n        </div>\r\n        {errors.username && <p className=\"text-white\">{errors.username.message} </p>}\r\n        <div className=\"form-group\">\r\n            <div className=\"form-label\">Password</div>\r\n            <Input\r\n                type=\"password\"\r\n                placeholder=\"Enter Password\"\r\n                name=\"password\"\r\n                onChange={e => { setPassword(e.target.value);}}\r\n                ref={register({ required: \"Password Required\" })}\r\n            />\r\n            <div className=\"form-text text-light\">We'll never share your password with anyone else</div>\r\n        </div>\r\n        {errors.password && <p className=\"text-white\">{errors.username.message}</p>}\r\n        <Button animated\r\n        type=\"submit\" \r\n        onClick={login}>\r\n            <Button.Content visible>Log In</Button.Content>\r\n            <Button.Content hidden><Icon name='arrow right'/></Button.Content>\r\n        </Button>\r\n        <div className =\"form-group\">\r\n            <div className=\"form-text\">Not signed up yet? <Link to=\"/signup\"> Do it now!</Link></div>\r\n        </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default withRouter(LoginForm);"]},"metadata":{},"sourceType":"module"}