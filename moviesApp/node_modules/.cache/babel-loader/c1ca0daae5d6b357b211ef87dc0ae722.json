{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\vblas\\\\Desktop\\\\COLLEGE\\\\Year 3\\\\Web App 2\\\\moviesApp\\\\src\\\\pages\\\\homePage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport StubAPI from \"../api/stubAPI\";\nimport PageTemplate from '../components/templateMovieListPage';\nimport { getMovies } from \"../api/tmdb-api\";\n\nvar MovieListPage = () => {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      movies = _useState2[0],\n      setMovies = _useState2[1];\n\n  useEffect(() => {\n    fetch(\"https://api.themoviedb.org/3/discover/movie?api_key=\".concat(process.env.REACT_APP_TMDB_KEY, \"&language=en-US&include_adult=false&page=1\")).then(res => res.json()).then(json => json.results).then(movies => {\n      setMovies(movies);\n    });\n  }, []);\n\n  var addToFavorites = movieId => {\n    setMovies(movies => {\n      var index = movies.map(m => m.id).indexOf(movieId);\n      StubAPI.add(movies[index]);\n      var newMoviesState = [...movies];\n      newMoviesState.splice(index, 1);\n      return newMoviesState;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(PageTemplate, {\n    title: \"Discover Movies\",\n    movies: movies,\n    buttonHandler: addToFavorites,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  });\n};\n\nexport default MovieListPage;","map":{"version":3,"sources":["C:/Users/vblas/Desktop/COLLEGE/Year 3/Web App 2/moviesApp/src/pages/homePage.js"],"names":["React","useState","useEffect","StubAPI","PageTemplate","getMovies","MovieListPage","movies","setMovies","fetch","process","env","REACT_APP_TMDB_KEY","then","res","json","results","addToFavorites","movieId","index","map","m","id","indexOf","add","newMoviesState","splice"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,SAASC,SAAT,QAA0B,iBAA1B;;AAEA,IAAMC,aAAa,GAAG,MAAM;AAAA,kBACEL,QAAQ,CAAC,EAAD,CADV;AAAA;AAAA,MACnBM,MADmB;AAAA,MACXC,SADW;;AAE1BN,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,KAAK,+DACoDC,OAAO,CAACC,GAAR,CAAYC,kBADhE,gDAAL,CAGGC,IAHH,CAGQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHf,EAIGF,IAJH,CAIQE,IAAI,IAAIA,IAAI,CAACC,OAJrB,EAKGH,IALH,CAKQN,MAAM,IAAI;AACdC,MAAAA,SAAS,CAACD,MAAD,CAAT;AACD,KAPH;AAQD,GATQ,EASN,EATM,CAAT;;AAWA,MAAMU,cAAc,GAAGC,OAAO,IAAI;AAChCV,IAAAA,SAAS,CAACD,MAAM,IAAI;AAClB,UAAMY,KAAK,GAAGZ,MAAM,CAACa,GAAP,CAAWC,CAAC,IAAIA,CAAC,CAACC,EAAlB,EAAsBC,OAAtB,CAA8BL,OAA9B,CAAd;AACAf,MAAAA,OAAO,CAACqB,GAAR,CAAYjB,MAAM,CAACY,KAAD,CAAlB;AACA,UAAIM,cAAc,GAAG,CAAC,GAAGlB,MAAJ,CAArB;AACAkB,MAAAA,cAAc,CAACC,MAAf,CAAsBP,KAAtB,EAA6B,CAA7B;AACA,aAAOM,cAAP;AACD,KANQ,CAAT;AAOD,GARD;;AAUA,sBACI,oBAAC,YAAD;AACE,IAAA,KAAK,EAAC,iBADR;AAEE,IAAA,MAAM,EAAElB,MAFV;AAGE,IAAA,aAAa,EAAEU,cAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAOD,CA9BD;;AAgCA,eAAeX,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport StubAPI from \"../api/stubAPI\";\r\nimport PageTemplate from '../components/templateMovieListPage'\r\nimport { getMovies } from \"../api/tmdb-api\";\r\n\r\nconst MovieListPage = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://api.themoviedb.org/3/discover/movie?api_key=${process.env.REACT_APP_TMDB_KEY}&language=en-US&include_adult=false&page=1`\r\n    )\r\n      .then(res => res.json())\r\n      .then(json => json.results )\r\n      .then(movies => {\r\n        setMovies(movies);\r\n      });\r\n  }, []);\r\n\r\n  const addToFavorites = movieId => {\r\n    setMovies(movies => {\r\n      const index = movies.map(m => m.id).indexOf(movieId);\r\n      StubAPI.add(movies[index]);\r\n      let newMoviesState = [...movies]\r\n      newMoviesState.splice(index, 1);\r\n      return newMoviesState;\r\n    });\r\n  };\r\n\r\n  return (\r\n      <PageTemplate\r\n        title='Discover Movies'\r\n        movies={movies}\r\n        buttonHandler={addToFavorites}\r\n      />\r\n  );\r\n};\r\n\r\nexport default MovieListPage;"]},"metadata":{},"sourceType":"module"}